# Design Docs
Generally, design docs are on Google docs:

## Conventions
* [Versioning of Constraint Templates](https://docs.google.com/document/d/1Sg4HrNl9EYkNbn6wSGcyxULELrIrNbqS28djvNtHYoY/edit?usp=drive_link)

## In Development

## Proposed
* [Namespace-Scoped Constraints](https://docs.google.com/document/d/1QqHp1exW-YZQE1p4RqRqwsfqCEFHzo3P0EzEGMPcv6A/edit?usp=drive_link)
* [Sync Resource](https://docs.google.com/document/d/1fdDmjcvASJ72aBTJnRa-AmM-NGDyh4NAvH7Zc5LxeuU/edit?usp=drive_link)
* [External Data Response Cache](https://docs.google.com/document/d/1XeOFbSCqLA0y93GZN0EdeXmH6ueRUOCpX5XxkaghJ2E/edit?usp=drive_link)

## Implemented
* [Gatekeeper V3 Accepted Design](https://docs.google.com/document/d/1qsfeCx-Rx61Xm6JqJK-i67Gk_y__lNebdakmnhCdM7w/edit?usp=drive_link)
   * [Initial v3 Design Proposal](https://docs.google.com/document/d/1GgebCUkQ6WiS_DFk24jAnS51hQz6kpIRjfkzVW3J2Cs/edit?usp=drive_link)
   * [Initial v3 Design Proposal -- Detailed Design](https://docs.google.com/document/d/1VykioikDtcEtGIMQ_jsgCPEQDt5pecbEaDgA-hGryMo/edit?usp=drive_link)
* [Dynamic Watch Design for OPA/Gatekeeper](https://docs.google.com/document/d/1WWtYajE-Vfr1TDetWktjpYeMarx2PTogmIr_2Gmhkt0/edit?usp=drive_link)
* [Architecture Diagram](https://docs.google.com/document/d/1-0J8XV3Yavb7LiMkNIoyBp9MY021TrtKyu_GlpCNBU8/edit?usp=drive_link)
* [Audit Design Doc](https://docs.google.com/document/d/1VGXXb9i3-CETJvuiskLMahGceFQZh1wUffMXHdqRtck/edit?usp=drive_link)
* [Dry-Run Design Doc](https://docs.google.com/document/d/1H-JS4pJZvN_zpdfrwnu5Drsq8_qhHvk0El2s5a_SrWI/edit?usp=drive_link)
* [Constraint Framework Client Interface](https://docs.google.com/document/d/1QwqRO0D5MQsNM1D6SuH8yWACa5nSZKjI7PGzl7F0a_g/edit?usp=drive_link)
* [Logging Design Doc](https://docs.google.com/document/d/1jPl8sqZU2AEE-lxEQ-8Q2kKFS5OD93CuMm9y-htzUf8/edit?usp=drive_link)
* [Namespace Exclusion Design doc](https://docs.google.com/document/d/1PjpFrhiQu2DNl3wFS5Ts-z8yx9EwQnafhNIp1PJvFQQ/edit?usp=drive_link)
* [Metrics Design Issue](https://github.com/open-policy-agent/gatekeeper/issues/157#issuecomment-553015292)
* [Gatekeeper v1beta1 CRD Deprecation](https://docs.google.com/document/d/1quP6ScoPiKDJrykOaReP8xRFdl66LO0586P_v5lfnQY/edit?usp=drive_link)
* [Compiler Sharding Design](https://docs.google.com/document/d/1CV9HCp8TG-q_B6TltufHIkXcTrb03LTPWzD2Vr4R_ec/edit?usp=drive_link)
* [Template e2e Testing Design](https://docs.google.com/document/d/1_DDhxDYjVxyZk090F-GznHTeT5jFMpwjEXLLhzR3AoU/edit?usp=drive_link)
* [ByPod Status Design](https://docs.google.com/document/d/1kPb3B1I6FBsthpR6hp0Q3SEB11iXoSSuWbj9t1q-_58/edit?usp=drive_link)
* [Mutation Design - 4th Edition (current approach)](https://docs.google.com/document/d/1FGJ8A9_JnGJu-pU0u6hh37JKWw7j7GhMfrvTFL9sfUA/edit?usp=drive_link)
   * [Mutation Interfaces (for the current approach)](https://docs.google.com/document/d/1ihhUKly1YFJfvmTKjJLAOkQlrM1Oexr147IJbSHu5Ao/edit?usp=drive_link)
   * [OPA Gatekeeper Mutation (alternate proposal)](https://docs.google.com/document/d/11V3zfQ75ugxUy_I2o6AqjWbhw1PKcMh8v3Cf8_uuwdU/edit?usp=drive_link)
   * [Mutation Revised Design Doc (June 2019)](https://docs.google.com/document/d/1jluk3xL3dLxsE_9C69XWVOrSyLqzsySY0W7r9Yl0i68/edit?usp=drive_link&resourcekey=0-A4jzI3xwwxfggM9uvwctAw)
   * [Mutation Initial Design Doc (April 2019)](https://docs.google.com/document/d/1-TRvdND3Q-HPzIg8pe2ZtYNkOBDnQ2CxC7SWhA0lP6g/edit?usp=drive_link)
* [External Data](https://docs.google.com/document/d/1tXsoXWFzoCdWY8BqxXCNr5qXkTbGgEf2-sEpvGSE4ZQ/edit?usp=drive_link)
* [gator validate](https://docs.google.com/document/d/1LG-GfOlXjWzz0wNCb8jdzIMplZqkyrkMmTLYx05CKY4/edit?usp=drive_link)
* [External Data TLS Support](https://docs.google.com/document/d/1z43LI38twxPiUHPuktWPB1xMnsYr7SaVgczq-WsBhck/edit?usp=drive_link)
* [Export violations using pub-sub](https://docs.google.com/document/d/1xu6c99m_qBOpztAc8uUnoY6ST8UiXyyJzrXOmMmJQ9I/edit?usp=drive_link)

## Roadmap (in development)
* See [milestones](https://github.com/open-policy-agent/gatekeeper/milestones?direction=asc&sort=due_date)

## Roadmap (complete)
* [GA Development Path](https://docs.google.com/document/d/19iMT3CQ_DFKfSy9Ypxty4QEFyNH5U_ZO3RF056NtL00/edit?usp=drive_link)
* [Post-MVP Features Doc](https://docs.google.com/document/d/1xtfrEGcA7MxRlMox-WSOQEpZ58gXWUU4S-Jeg47fQ6s/edit?usp=drive_link)
* [MVP for Alpha](https://docs.google.com/document/d/18xonIGw5iM_U4wbgl18O6G4xSpShnZA3rM8vyRPGLfg/edit?usp=drive_link)

## Discussions

These docs may not be design docs in themselves, but seek to influence design
decisions

* [Mutation Convergence Proof](https://docs.google.com/document/d/1ZGV9H0xpafogtpMy_GnZVSHygwa01VsBtxyD3nWd_BA/edit?usp=drive_link)
   * This looks at the elements of mutation that allow us to assert that any combination of mutators should converge
     and should serve as a guide when considering changes in behavior to mutation.
* [Mutation Dynamics](https://docs.google.com/document/d/1VkNIWPrHnaPbMRfkjyhyAPWoloiOq0lpTIHbTvBhVUA/edit?usp=drive_link)
   * A dissection of the mutation problem space, attempting to break down the
     salient behavioral elements and figure out what's needed for a
     user-friendly set of mutation primitives.
* [Mutation Transience](https://docs.google.com/document/d/1cKK1LQDm5LYu3Iqbi0HXrK5nacjEB88xGEJF8qwH708/edit?usp=drive_link)
   * Looking at how a mutation webhook may behave during configuration changes and discussing what that might mean in terms
     of necessary status fields and best practices for writing mutators.
* [Finalizers in OPA Gatekeeper](https://docs.google.com/document/d/179uwLOU_t8TjUyxRagDN6qKJsJqJirIS7HDvg2ft1yw/edit?usp=drive_link)
   * This doc discusses the impact the existence of finalizers has on running
     OPA Gatekeeper. Its points have either been addressed or are on track
     to being addressed.
